# ربات لایک تلگرام - Telegram Like Bot

ربات لایک تلگرام با قابلیت‌های پیشرفته برای ساخت و مدیریت لایک‌ها

## ✨ ویژگی‌ها

- 🎯 ساخت لایک با نام دلخواه
- 📢 اشتراک‌گذاری بنر لایک
- ⚙️ تنظیم کانال اجباری برای لایک
- 🔒 عضویت اجباری در کانال @NoiDUsers
- 📊 آمار لایک‌ها
- 💾 ذخیره‌سازی داده‌ها در Cloudflare KV
- 🌐 اجرا روی Cloudflare Pages

## 🚀 نصب و راه‌اندازی

### 1. پیش‌نیازها

- Node.js 18 یا بالاتر
- حساب Cloudflare
- ربات تلگرام (از @BotFather)

### 2. نصب وابستگی‌ها

```bash
npm install
```

### 3. تنظیم متغیرهای محیطی

#### ایجاد ربات تلگرام:
1. به @BotFather در تلگرام پیام دهید
2. دستور `/newbot` را اجرا کنید
3. نام و نام کاربری ربات را وارد کنید
4. توکن ربات را کپی کنید

#### تنظیم Cloudflare KV:
1. در Cloudflare Dashboard، به بخش Workers & Pages بروید
2. یک KV Namespace جدید ایجاد کنید
3. ID آن را در `wrangler.toml` قرار دهید

### 4. تنظیم متغیرهای محیطی

```bash
# تنظیم توکن ربات
wrangler secret put BOT_TOKEN

# تنظیم KV Namespace ID در wrangler.toml
```

### 5. اجرای محلی

```bash
npm run dev
```

### 6. استقرار

```bash
npm run deploy
```

## 🔧 تنظیمات

### فایل wrangler.toml

```toml
name = "telegram-like-bot"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

[[kv_namespaces]]
binding = "BOT_KV"
id = "your-kv-namespace-id"
preview_id = "your-preview-kv-namespace-id"

[vars]
REQUIRED_CHANNEL = "@NoiDUsers"
```

### متغیرهای محیطی

- `BOT_TOKEN`: توکن ربات تلگرام
- `REQUIRED_CHANNEL`: کانال اجباری برای عضویت

## 📱 استفاده از ربات

### دستورات اصلی

- `/start` - شروع ربات و نمایش منوی اصلی

### منوی اصلی

1. **ساخت لایک 🎯** - ایجاد لایک جدید
2. **تنظیمات کانال ⚙️** - تنظیم کانال اجباری
3. **آمار لایک‌ها 📊** - مشاهده آمار لایک‌ها

### فرآیند ساخت لایک

1. کاربر روی "ساخت لایک" کلیک می‌کند
2. نام لایک را وارد می‌کند
3. ربات لایک را ایجاد می‌کند
4. دکمه "اشتراک بنر" نمایش داده می‌شود

### سیستم لایک

- **بدون کانال تنظیم شده**: لایک ساده بدون نیاز به عضویت
- **با کانال تنظیم شده**: لایک با نیاز به عضویت در کانال

## 🗄️ ساختار داده

### KV Keys

- `like:{likeId}` - اطلاعات لایک
- `user_channel:{userId}` - کانال تنظیم شده کاربر
- `user_state:{userId}` - وضعیت فعلی کاربر
- `user_liked:{userId}:{likeId}` - لایک‌های کاربر

## 🔒 امنیت

- بررسی عضویت در کانال‌ها
- محدودیت لایک یکبار برای هر کاربر
- اعتبارسنجی ورودی‌ها

## 🐛 عیب‌یابی

### مشکلات رایج

1. **ربات پاسخ نمی‌دهد**: بررسی توکن و webhook
2. **خطای KV**: بررسی تنظیمات KV Namespace
3. **خطای عضویت**: بررسی دسترسی ربات به کانال

### لاگ‌ها

ربات تمام خطاها را در console ثبت می‌کند.

## 📝 مجوز

MIT License

## 🤝 مشارکت

برای مشارکت در توسعه ربات، لطفاً issue یا pull request ایجاد کنید.

## 📞 پشتیبانی

برای سوالات و مشکلات، لطفاً issue ایجاد کنید.
